<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>BrickStock - Rangements</title>
        <link rel="stylesheet" type="text/css" href="/BrickStock/css/styles.css">
        <!-- <link rel="stylesheet" type="text/css" href="../css/styles.css"> -->
        <link rel="shortcut icon" href="/BrickStock/css/favicon.ico" type="image/x-icon">
        <!-- <link rel="shortcut icon" href="../css/favicon.ico" type="image/x-icon"> -->
        <style type="text/css">
            p {
                margin: 0 12px;
                /* line-height: 26px; */
            }
            p:not(:first-child) {
                margin-top: 8px;
            }

            cmd {
                color: #CBCBCB;
                background-color: #1F1F1F;
                padding: 2px 4px 4px;
                display: inline-block;
                /* height: auto; */
                /* height: 20px; */
            }

            span.underline {
                text-decoration: underline;
            }

            ul.parametres {
                list-style: "- ";
                margin: 2px 0;
                /* margin: 0; */
            }

            div.console {
                width: calc(100% - 8px - 24px);
                padding: 4px;
                margin: 12px;
                margin-top: 0;
                background-color: #1F1F1F;
                color: #CBCBCB;
            }

            textarea.console {
                resize: none;
                background-color: #1F1F1F;
                color: #CBCBCB;
                width: calc(100% - 8px - 24px);
                margin: 12px;
                margin-bottom: 0;
            }

            input.console {
                border: none;
                padding: 0;
                margin: 0;
                background-color: #1F1F1F;
                color: #CBCBCB;
                width: calc(100% - 39.9px);
                height: 20px;
                display: inline-block;
            }
            input.console:focus {
                border: none;
            }
        </style>
    </head>
    <body>
        <div class="page">
            <div class="menu">
                <ul>
                    <li>
                        <a href="/BrickStock/pieces">Pièces</a></li><li>
                        <a href="/BrickStock/designs">Designs</a></li><li>
                        <a href="/BrickStock/categories">Categories</a></li><li>
                        <a href="/BrickStock/couleurs">Couleurs</a></li><li class="main">
                        <a href="/BrickStock/rangements">Rangements</a></li><li>
                        <a href="/BrickStock/sets">Sets</a></li><li>
                        <a href="/BrickStock/minifigures">Minifigures</a>
                    </li>
                </ul>
            </div>
            <div class="layout" style="padding-bottom: 12px;">
                <button id="ajouter" class="ajouter"><img src="/BrickStock/images/bouton_plus_carre.svg"></button><a class="bouton_print" href="/BrickStock/rangements/print_qr-codes">
                    <img src="/BrickStock/images/picto_impression.svg">
                </a>
                <h3 style="text-align: center;">Console de Gestion des Rangements</h3>
                <p>Vous pouvez utiliser la console pour gérer les rangements et leur contenu.</p>
                <h4 id="h4_help" style="margin: 12px; cursor: pointer;">Liste et détails des commandes</h4>
                <div id="div_help" style="width: auto; margin: 12px;" class="hide">
                    <p>Syntaxe&nbsp;:</p>
                    <ul class="parametres">
                        <li>Les guillemets peuvent être simples ('…') ou doubles ("…"). Utiliser les mêmes guillemets à l'ouverture et à la fermeture. Si l'un des types de guillemets est utilisé dans la chaine de caractères, utiliser l'autre pour la délimiter.</li>
                        <li>Les paramètres marqués d'une "*" sont facultatif (ils sont généralement précédés d'un indicateur de la forme "-" + une lettre).</li>
                    </ul>
                    <p>
                        Syntaxe des commandes utilisée ci-dessous : <cmd>nom_de_la_commande {paramètre obligatoire 1}</cmd>
                    </p>
                    <i>Les mots {entre crochets} correspondent à des paramètres à saisir par l'utilisateur</i>
                    <p>
                        • <cmd>add</cmd>&nbsp;: ajout d'un élément (pièce ou design) dans le rangement courant. Paramètre&nbsp;:
                        <ul class="parametres">
                            <li>
                                <cmd>id_element</cmd>&nbsp;: l'id de l'élément à ajouter.
                            </li>
                        </ul>
                    </p>
                    <p>
                        • <cmd>cr</cmd> (<span class="underline">c</span>hange <span class="underline">r</span>angement)&nbsp;: déplacement au sein de l'arborescence des rangements.
                        Paramètre&nbsp;:
                        <ul class="parametres">
                            <li>
                                <cmd>chemin</cmd>&nbsp;: chemin à emprunter sous la forme d'une chaine d'<cmd>id de rangements</cmd> séparés par des <cmd>/</cmd>. Pour remonter vers un rangement supérieur, utiliser <cmd>../</cmd>. Un chemin débutant par un <cmd>/</cmd> sont des chemins absolus (qui partent donc de la racine "Collection") alors que les autres sont des chemins relatifs (qui partent du rangement courant).
                            </li>
                            <li>Exemples&nbsp;: <cmd>cr /1/3/14</cmd> (depuis la racine, descend dans le rangement 14 situé dans le n°3 lui-même situé dans le n°1)&nbsp;; <cmd>cr ../13</cmd> (depuis n'importe quel rangement situé dans le rangement 3, se déplace vers le rangement n°13)&nbsp;; <cmd>cr 3/14</cmd> (depuis le rangement contenant le n°3, descend dans le rangement 14 situé dans le n°3)…</li>
                        </ul>
                    </p>
                    <p>
                        • <cmd>clear</cmd>&nbsp;: suppression de la totalité du contenu du rangement courant.
                        <ul class="parametres">
                            <li>Demande de confirmation.</li>
                        </ul>
                    </p>
                    <p>
                        • <cmd>del</cmd> (<span class="underline">del</span>ete)&nbsp;: suppression d'un élément (pièce ou design) contenu dans le rangement. Paramètre&nbsp;:
                        <ul>
                            <li>
                                <cmd>id_element</cmd>&nbsp;: l'id de l'élément à supprimer.
                            </li>
                        </ul>
                    </p>
                    <p>
                        • <cmd>ls</cmd> (<span class="underline">l</span>i<span class="underline">s</span>t)&nbsp;: affichage du contenu du rangement courant sous la forme d'un tableau à deux colonnes (id de l'élément, type de l'élément).
                    </p>
                    <p>
                        • <cmd>mkran</cmd> (<span class="underline">m</span>a<span class="underline">k</span>e <span class="underline">ran</span>gement)&nbsp;: création d'un rangement. Paramètres&nbsp;:
                        <ul class="parametres">
                            <li>
                                <cmd>'nom du rangement'</cmd>&nbsp;: le nom du rangement entre guillemets&nbsp;;
                            </li>
                            <li>
                                <cmd>'type_rangement'</cmd>&nbsp;: le type de rangement&nbsp;;
                            </li>
                            <li>
                                <cmd>-n nb_compartiments</cmd>* (par défaut 1)&nbsp;: le nombre de compartiments (minimum 1) contenus dans le rangement&nbsp;;
                            </li>
                            <li>
                                <cmd>-c 'compartimentation'</cmd>* (par défaut "1 x 1")&nbsp;: la compartimentation entre guillemets.
                            </li>
                            <li>Le nouveau rangement sera créé dans le rangement courant.</li>
                            <li>Exemples&nbsp;: <cmd>mkran 'Boite 1' 'petite boite' -n 2 -c '1 x 2'</cmd>&nbsp;; <cmd>mkran 'Boite 2' 'petite boite' -c '1 x 1'</cmd>&nbsp;; <cmd>mkran 'Boite 3' 'petite boite'</cmd>.</li>
                        </ul>
                    </p>
                    <p>
                        • <cmd>mv</cmd> (<span class="underline">m</span>o<span class="underline">v</span>e)&nbsp;: déplacement d'un rangement ou de son contenu. Paramètres&nbsp;:
                        <ul class="parametres">
                            <li>
                                <cmd>chemin_actuel</cmd>* (par défaut, le rangement courant)&nbsp;: chemin du rangement à déplacer&nbsp;;
                            </li>
                            <li>
                                <cmd>nouveau_chemin</cmd>&nbsp;: chemin vers lequel le déplacement doit être effectué.
                            </li>
                            <li>
                                <cmd>-c</cmd>* &nbsp;: si le paramètre est utilisé, le contenu du rangement courant sera déplacé et non le rangement lui-même.
                            </li>
                            <li>Si un seul chemin est spécifié, il sera interprêté comme étant le nouveau_chemin, le chemin_actuel étant le chemin courant.</li>
                        </ul>
                    </p>
                    <p>
                        • <cmd>pwr</cmd> (<span class="underline">p</span>rint <span class="underline">w</span>ork <span class="underline">r</span>angement)&nbsp;: affichage du chemin du rangement courant.
                    </p>
                    <p>
                        • <cmd>rmran</cmd> (<span class="underline">r</span>e<span class="underline">m</span>ove <span class="underline">ran</span>gement)&nbsp;: suppression d'un rangement. Paramètre&nbsp;:
                        <ul class="parametres">
                            <li>
                                <cmd>id_rangement</cmd>&nbsp;: l'id du rangement à supprimer.
                            </li>
                            <li>Une confirmation est demandée.</li>
                        </ul>
                    </p>
                    <p>
                        • <cmd>tree</cmd>&nbsp;: affichage de l'arborescence du rangement courant.
                    </p>
                </div>
                <form method="POST">
                    <textarea id="console_content" class="console" name="console_content" disabled>{contenu_console}</textarea>
                    <!-- <div id="console_content" class="console">{contenu_console}</div> -->
                    <div class="console">
                        >>>&nbsp;<input name="command" id="console_command" class="console">
                    </div>
                </form>
            </div>
        </div>
        <script type="text/javascript">
            let divHelp = document.getElementById("div_help");
            let h4Help = document.getElementById("h4_help");
            h4Help.addEventListener("click", function () {
                if (divHelp.classList.contains("hide")) {
                    divHelp.classList.remove("hide");
                }
                else {
                    divHelp.classList.add("hide");
                }
            });
        </script>
        {script}
    </body>
</html>